<!-- Settings Modal -->
<div id="settings-panel" class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 hidden">
    <div class="bg-zinc-900/50 backdrop-blur-xs border border-zinc-700 rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col shadow-2xl">
        <!-- Fixed Header -->
        <div class="flex justify-between items-center p-6 border-b border-zinc-700 flex-shrink-0 relative">
            <!-- Title (center) -->
            <h3 class="text-lg font-semibold text-white flex items-center gap-2 mx-auto">
                <span class="material-icons text-emerald-400">settings</span>
                Settings
            </h3>

            <!-- Close button (right) -->
            <button id="close-user-panel" class="text-zinc-400 hover:text-white">
                <span class="material-icons">close</span>
            </button>
        </div>

        <!-- Scrollable Content -->
        <div class="flex-1 overflow-y-auto">
            {% include "components/settings-form.html" %}
        </div>

        <!-- Fixed Footer -->
        <div class="border-t border-zinc-700 p-4 flex-shrink-0">
            <div class="flex justify-center">
                <div class="relative inline-block">
                    <!-- Split button -->
                    <div class="flex rounded shadow overflow-hidden border border-emerald-500">
                        <button
                                id="save-btn"
                                class="bg-emerald-500 hover:bg-emerald-400 text-zinc-800 font-semibold py-2 px-4 flex items-center gap-1 focus:outline-none"
                                type="submit"
                                form="config-form"
                        >
                            <span class="material-icons align-middle">save</span>
                            Save Settings
                        </button>
                        <button
                                id="dropdown-btn"
                                type="button"
                                class="dropdown-toggle bg-emerald-500 hover:bg-emerald-400 text-zinc-800 px-2 flex items-center"
                                onclick="toggleDropdown(this)"
                        >
                            <span class="material-icons align-middle transition-transform duration-200">expand_more</span>
                        </button>
                    </div>
                    <!-- Dropdown -->
                    <div class="dropdown-menu absolute bottom-0 right-0 w-full text-zinc-800 border border-emerald-500  backdrop-blur-xs  rounded  z-20 hidden">
                        <button onclick="exportSettings()"
                                class="w-full flex gap-2 items-center px-4 py-2 bg-emerald-500 hover:bg-emerald-400 cursor-pointer">
                            <span class="material-icons">file_download</span>
                            Export Settings
                        </button>
                        <label class="w-full flex gap-2 items-center px-4 py-2 bg-emerald-500/80relative bg-emerald-500 hover:bg-emerald-400 cursor-pointer">
                            <span class="material-icons">file_upload</span>
                            <span>Import Settings</span>
                            <input type="file" accept=".env" onchange="importSettings(this)" class="hidden"/>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
